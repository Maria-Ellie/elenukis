{"ast":null,"code":"var _jsxFileName = \"/Users/elenamedrano/Desktop/my-app/src/ditto.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useEffect } from \"react\";\nimport useWindowSize from './useWindowSize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Ditto = () => {\n  _s();\n  const [sprites, setSprites] = useState({});\n  const {\n    width,\n    height\n  } = useWindowSize();\n  const [protagonist, setProtagonist] = useState();\n  const [entities, seteEntities] = useState([]);\n  const containerWidth = 500,\n    containerHeight = 500;\n  useEffect(() => {\n    creteImage();\n  }, []);\n  const creteImage = () => {\n    const characterImage = new Image();\n    characterImage.onload = () => {\n      const characterSize = {\n        width: 33,\n        height: 29\n      };\n      const characterCount = 4;\n      const characterSprite = new Sprite(characterImage, Sprite.GeometryHorizontalLinear(characterSize.width, characterSize.height, characterCount));\n      setSprites({\n        ditto: characterSprite\n      });\n    };\n    characterImage.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAAAdAgMAAAAWQyy/AAAADFBMVEX///+4YOA4ODj4+PhASPNeAAAAAXRSTlMAQObYZgAAAStJREFUeF6l08FqhEAMBuBhbk6fYyj6Pgmul3pZEN9hWV8i9FgvC3X6PELpe2zP9Y/pyCLLFprLoP83STzo/lv+/ZEoGGwMw10RacmePmML4PfOjyqev6WGKDs/Kth40QiEXInxLPzxle+WHUS8kgoi6vU8zzaobIQB31R4QrU4T9RVKl5ngpheaBP1KlmWLlU4z0iCJioORKxCmzm5nDSJAOx0jxthdEBwzOLIkJyFIEGgQpvVqxSMhVRxQKCiEYhozQtbPV/Fmx6iJE5ErYkWgi8mlOYkEiVZxQRpglUojSZB9wJUTDoxkTeMN4J3ot0JT79CTMifRUmUEtV5803EJcD3+5ScS+MmML+feHBhCcKSWOVvw9s07H+LTdwvL/1Fp9yvaggJUx/WD0e0wREEScedAAAAAElFTkSuQmCC\";\n  };\n  const createEntity = () => {\n    const characterSprite = sprites.ditto;\n    const firstAnimationFrame = characterSprite.frames[0];\n    const direction = integerValue(0, 1);\n    const scale = integerValue(4, 16);\n    const opacity = floatValue(0.1, 1.0);\n    const translationX = integerValue(400, 1000) * (direction ? 1 : -1);\n    const containerWidth = width,\n      containerHeight = height;\n    const intrinsicSize = {\n      width: firstAnimationFrame.width,\n      height: firstAnimationFrame.height\n    };\n    const size = {\n      width: intrinsicSize.width * scale,\n      height: intrinsicSize.height * scale\n    };\n    const origin = {\n      x: direction ? -size.width : containerWidth,\n      y: integerValue(0, containerHeight - size.height)\n    };\n    return {\n      sprite: characterSprite,\n      animationFrameDuration: .085,\n      animationFrame: 0,\n      time: 0.0,\n      speed: {\n        x: translationX,\n        y: 0\n      },\n      size,\n      origin,\n      opacity,\n      intrinsicSize\n    };\n  };\n  const first = () => {\n    if (!protagonist) {\n      let _prota = createEntity();\n      _prota.speed.x = 0;\n      _prota.opacity = 1;\n      entities.push(_prota);\n      setProtagonist(protagonist);\n    }\n    if (protagonist) {\n      const maximumImageSize = {\n        width: Math.min(containerWidth * .8, 600),\n        height: Math.min(containerHeight * .8, 600)\n      };\n      const size = protagonist.intrinsicSize;\n      const xScale = maximumImageSize.width / size.width;\n      const yScale = maximumImageSize.height / size.height;\n      const minScale = Math.min(xScale, yScale);\n      const scaledSize = {\n        width: size.width * minScale,\n        height: size.height * minScale\n      };\n      protagonist.size = scaledSize;\n      protagonist.origin.x = Math.round((containerWidth - scaledSize.width) * .5);\n      protagonist.origin.y = Math.round((containerHeight - scaledSize.height) * .5);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(Ditto, \"akHCcZR+iXy2++zUuP0hD7gqd4E=\", false, function () {\n  return [useWindowSize];\n});\n_c = Ditto;\nexport default Ditto;\nclass Sprite {\n  constructor(image, frames) {\n    const width = image.width,\n      height = image.height;\n    let canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    let context = canvas.getContext(\"2d\");\n    context.drawImage(image, 0, 0);\n    this.canvas = canvas;\n    this.context = context;\n    this.frames = frames;\n  }\n  drawFrame(ctx, frame, dx, dy, targetWidth, targetHeight) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.frames[frame];\n    dx |= 0;\n    dy |= 0;\n    targetWidth |= width;\n    targetHeight |= height;\n    ctx.drawImage(this.canvas, x, y, width, height, dx, dy, targetWidth, targetHeight);\n  }\n}\nSprite.GeometryHorizontalLinear = (width, height, count) => {\n  let frames = [];\n  for (var idx = 0; idx < count; idx += 1) {\n    var frame = {\n      x: width * idx,\n      y: 0,\n      width: width,\n      height: height\n    };\n    frames.push(frame);\n  }\n  return frames;\n};\nfunction floatValue(min, max) {\n  return Math.random() * (max - min) + min;\n}\nfunction integerValue(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction color() {\n  return '#' + Math.floor(Math.random() * 16777215).toString(16);\n}\nvar _c;\n$RefreshReg$(_c, \"Ditto\");","map":{"version":3,"names":["React","useState","useEffect","useWindowSize","Ditto","sprites","setSprites","width","height","protagonist","setProtagonist","entities","seteEntities","containerWidth","containerHeight","creteImage","characterImage","Image","onload","characterSize","characterCount","characterSprite","Sprite","GeometryHorizontalLinear","ditto","src","createEntity","firstAnimationFrame","frames","direction","integerValue","scale","opacity","floatValue","translationX","intrinsicSize","size","origin","x","y","sprite","animationFrameDuration","animationFrame","time","speed","first","_prota","push","maximumImageSize","Math","min","xScale","yScale","minScale","scaledSize","round","constructor","image","canvas","document","createElement","context","getContext","drawImage","drawFrame","ctx","frame","dx","dy","targetWidth","targetHeight","count","idx","max","random","floor","color","toString"],"sources":["/Users/elenamedrano/Desktop/my-app/src/ditto.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from \"react\";\nimport useWindowSize from './useWindowSize';\n\nconst Ditto = () => {\n    const [sprites, setSprites] = useState({})\n    const { width, height } = useWindowSize()\n    const [protagonist, setProtagonist] = useState()\n    const [entities, seteEntities] = useState([])\n    const containerWidth=500,containerHeight=500\n    useEffect(() => {\n        creteImage()\n    }, [])\n\n    const creteImage = () => { \n        const characterImage = new Image()\n        characterImage.onload = () => {\n          const characterSize = { width: 33, height: 29 }\n          const characterCount = 4\n          const characterSprite = new Sprite(characterImage, Sprite.GeometryHorizontalLinear(characterSize.width, characterSize.height, characterCount))\n            \n          setSprites({ ditto: characterSprite })\n        }\n        \n        characterImage.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAAAdAgMAAAAWQyy/AAAADFBMVEX///+4YOA4ODj4+PhASPNeAAAAAXRSTlMAQObYZgAAAStJREFUeF6l08FqhEAMBuBhbk6fYyj6Pgmul3pZEN9hWV8i9FgvC3X6PELpe2zP9Y/pyCLLFprLoP83STzo/lv+/ZEoGGwMw10RacmePmML4PfOjyqev6WGKDs/Kth40QiEXInxLPzxle+WHUS8kgoi6vU8zzaobIQB31R4QrU4T9RVKl5ngpheaBP1KlmWLlU4z0iCJioORKxCmzm5nDSJAOx0jxthdEBwzOLIkJyFIEGgQpvVqxSMhVRxQKCiEYhozQtbPV/Fmx6iJE5ErYkWgi8mlOYkEiVZxQRpglUojSZB9wJUTDoxkTeMN4J3ot0JT79CTMifRUmUEtV5803EJcD3+5ScS+MmML+feHBhCcKSWOVvw9s07H+LTdwvL/1Fp9yvaggJUx/WD0e0wREEScedAAAAAElFTkSuQmCC\"\n      \n    }\n\n    const createEntity= () =>{\n        const characterSprite = sprites.ditto\n        const firstAnimationFrame = characterSprite.frames[0]\n        \n        const direction = integerValue(0, 1)\n        const scale = integerValue(4, 16)\n        const opacity = floatValue(0.1, 1.0)\n        const translationX = integerValue(400, 1000) * (direction ? 1 : -1)\n            \n        const containerWidth = width, containerHeight = height\n        const intrinsicSize = { width: firstAnimationFrame.width, height: firstAnimationFrame.height }\n        \n        const size = { width: intrinsicSize.width * scale, height: intrinsicSize.height * scale }\n        const origin = { x: (direction ? -size.width : containerWidth), y: integerValue(0, containerHeight - size.height) }\n        \n        return {\n          sprite: characterSprite,\n          animationFrameDuration: .085,\n          animationFrame: 0,\n          time: 0.0,\n          speed: { x: translationX, y: 0 },\n          size,\n          origin,\n          opacity,\n          intrinsicSize\n        }\n    }\n\n    const first = () => { \n        if (!protagonist) {\n            let _prota = createEntity()\n            _prota.speed.x = 0\n            _prota.opacity = 1\n            \n            entities.push(_prota)\n            setProtagonist(protagonist)\n          }\n        if (protagonist) {\n            const maximumImageSize = { width: Math.min(containerWidth * .8, 600), height: Math.min(containerHeight * .8, 600) }\n            const size = protagonist.intrinsicSize\n            \n            const xScale = maximumImageSize.width / size.width\n            const yScale = maximumImageSize.height / size.height\n            const minScale = Math.min(xScale, yScale)\n            const scaledSize = { width: size.width * minScale, height: size.height * minScale }\n            \n            protagonist.size = scaledSize\n            protagonist.origin.x = Math.round((containerWidth - scaledSize.width) * .5)\n            protagonist.origin.y = Math.round((containerHeight - scaledSize.height) * .5)\n          }\n    }\n\n    return ( \n        <div>\n            <canvas />\n        </div>\n    );\n}\n \nexport default Ditto;\n\nclass Sprite {\n  \n    constructor(image, frames){\n      const width = image.width, height = image.height\n    \n      let canvas = document.createElement(\"canvas\")\n      canvas.width = width\n      canvas.height = height\n      \n      let context = canvas.getContext(\"2d\")\n      context.drawImage(image, 0, 0)\n      \n      this.canvas = canvas\n      this.context = context\n      this.frames = frames\n    }\n    \n    drawFrame(ctx, frame, dx, dy, targetWidth, targetHeight){    \n      const { x, y, width, height } = this.frames[frame]\n      \n      dx |= 0\n      dy |= 0\n      targetWidth |= width\n      targetHeight |= height\n      \n      ctx.drawImage(this.canvas, x, y, width, height, dx, dy, targetWidth, targetHeight)\n    } \n}\n\nSprite.GeometryHorizontalLinear = (width, height, count) => {\n    let frames = [];\n    \n    for (var idx = 0; idx < count; idx += 1) {\n      var frame = { x: (width * idx), y: 0, width: width, height: height }\n      frames.push(frame)\n    }\n    \n    return frames\n}\n\n\n\n\n function floatValue(min, max) {\n    return Math.random() * (max - min) + min\n  }\n  \n   function integerValue(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min\n  }\n  \n   function color() {\n    return '#'+Math.floor(Math.random()*16777215).toString(16)\n  }\n  \n\n "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,aAAa,MAAM,iBAAiB;AAAC;AAE5C,MAAMC,KAAK,GAAG,MAAM;EAAA;EAChB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM;IAAEM,KAAK;IAAEC;EAAO,CAAC,GAAGL,aAAa,EAAE;EACzC,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,EAAE;EAChD,MAAM,CAACU,QAAQ,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC7C,MAAMY,cAAc,GAAC,GAAG;IAACC,eAAe,GAAC,GAAG;EAC5CZ,SAAS,CAAC,MAAM;IACZa,UAAU,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,UAAU,GAAG,MAAM;IACrB,MAAMC,cAAc,GAAG,IAAIC,KAAK,EAAE;IAClCD,cAAc,CAACE,MAAM,GAAG,MAAM;MAC5B,MAAMC,aAAa,GAAG;QAAEZ,KAAK,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAG,CAAC;MAC/C,MAAMY,cAAc,GAAG,CAAC;MACxB,MAAMC,eAAe,GAAG,IAAIC,MAAM,CAACN,cAAc,EAAEM,MAAM,CAACC,wBAAwB,CAACJ,aAAa,CAACZ,KAAK,EAAEY,aAAa,CAACX,MAAM,EAAEY,cAAc,CAAC,CAAC;MAE9Id,UAAU,CAAC;QAAEkB,KAAK,EAAEH;MAAgB,CAAC,CAAC;IACxC,CAAC;IAEDL,cAAc,CAACS,GAAG,GAAG,oiBAAoiB;EAE7jB,CAAC;EAED,MAAMC,YAAY,GAAE,MAAK;IACrB,MAAML,eAAe,GAAGhB,OAAO,CAACmB,KAAK;IACrC,MAAMG,mBAAmB,GAAGN,eAAe,CAACO,MAAM,CAAC,CAAC,CAAC;IAErD,MAAMC,SAAS,GAAGC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;IACpC,MAAMC,KAAK,GAAGD,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC;IACjC,MAAME,OAAO,GAAGC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;IACpC,MAAMC,YAAY,GAAGJ,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,IAAID,SAAS,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAEnE,MAAMhB,cAAc,GAAGN,KAAK;MAAEO,eAAe,GAAGN,MAAM;IACtD,MAAM2B,aAAa,GAAG;MAAE5B,KAAK,EAAEoB,mBAAmB,CAACpB,KAAK;MAAEC,MAAM,EAAEmB,mBAAmB,CAACnB;IAAO,CAAC;IAE9F,MAAM4B,IAAI,GAAG;MAAE7B,KAAK,EAAE4B,aAAa,CAAC5B,KAAK,GAAGwB,KAAK;MAAEvB,MAAM,EAAE2B,aAAa,CAAC3B,MAAM,GAAGuB;IAAM,CAAC;IACzF,MAAMM,MAAM,GAAG;MAAEC,CAAC,EAAGT,SAAS,GAAG,CAACO,IAAI,CAAC7B,KAAK,GAAGM,cAAe;MAAE0B,CAAC,EAAET,YAAY,CAAC,CAAC,EAAEhB,eAAe,GAAGsB,IAAI,CAAC5B,MAAM;IAAE,CAAC;IAEnH,OAAO;MACLgC,MAAM,EAAEnB,eAAe;MACvBoB,sBAAsB,EAAE,IAAI;MAC5BC,cAAc,EAAE,CAAC;MACjBC,IAAI,EAAE,GAAG;MACTC,KAAK,EAAE;QAAEN,CAAC,EAAEJ,YAAY;QAAEK,CAAC,EAAE;MAAE,CAAC;MAChCH,IAAI;MACJC,MAAM;MACNL,OAAO;MACPG;IACF,CAAC;EACL,CAAC;EAED,MAAMU,KAAK,GAAG,MAAM;IAChB,IAAI,CAACpC,WAAW,EAAE;MACd,IAAIqC,MAAM,GAAGpB,YAAY,EAAE;MAC3BoB,MAAM,CAACF,KAAK,CAACN,CAAC,GAAG,CAAC;MAClBQ,MAAM,CAACd,OAAO,GAAG,CAAC;MAElBrB,QAAQ,CAACoC,IAAI,CAACD,MAAM,CAAC;MACrBpC,cAAc,CAACD,WAAW,CAAC;IAC7B;IACF,IAAIA,WAAW,EAAE;MACb,MAAMuC,gBAAgB,GAAG;QAAEzC,KAAK,EAAE0C,IAAI,CAACC,GAAG,CAACrC,cAAc,GAAG,EAAE,EAAE,GAAG,CAAC;QAAEL,MAAM,EAAEyC,IAAI,CAACC,GAAG,CAACpC,eAAe,GAAG,EAAE,EAAE,GAAG;MAAE,CAAC;MACnH,MAAMsB,IAAI,GAAG3B,WAAW,CAAC0B,aAAa;MAEtC,MAAMgB,MAAM,GAAGH,gBAAgB,CAACzC,KAAK,GAAG6B,IAAI,CAAC7B,KAAK;MAClD,MAAM6C,MAAM,GAAGJ,gBAAgB,CAACxC,MAAM,GAAG4B,IAAI,CAAC5B,MAAM;MACpD,MAAM6C,QAAQ,GAAGJ,IAAI,CAACC,GAAG,CAACC,MAAM,EAAEC,MAAM,CAAC;MACzC,MAAME,UAAU,GAAG;QAAE/C,KAAK,EAAE6B,IAAI,CAAC7B,KAAK,GAAG8C,QAAQ;QAAE7C,MAAM,EAAE4B,IAAI,CAAC5B,MAAM,GAAG6C;MAAS,CAAC;MAEnF5C,WAAW,CAAC2B,IAAI,GAAGkB,UAAU;MAC7B7C,WAAW,CAAC4B,MAAM,CAACC,CAAC,GAAGW,IAAI,CAACM,KAAK,CAAC,CAAC1C,cAAc,GAAGyC,UAAU,CAAC/C,KAAK,IAAI,EAAE,CAAC;MAC3EE,WAAW,CAAC4B,MAAM,CAACE,CAAC,GAAGU,IAAI,CAACM,KAAK,CAAC,CAACzC,eAAe,GAAGwC,UAAU,CAAC9C,MAAM,IAAI,EAAE,CAAC;IAC/E;EACN,CAAC;EAED,oBACI;IAAA,uBACI;MAAA;MAAA;MAAA;IAAA;EAAU;IAAA;IAAA;IAAA;EAAA,QACR;AAEd,CAAC;AAAA,GAjFKJ,KAAK;EAAA,QAEmBD,aAAa;AAAA;AAAA,KAFrCC,KAAK;AAmFX,eAAeA,KAAK;AAEpB,MAAMkB,MAAM,CAAC;EAETkC,WAAW,CAACC,KAAK,EAAE7B,MAAM,EAAC;IACxB,MAAMrB,KAAK,GAAGkD,KAAK,CAAClD,KAAK;MAAEC,MAAM,GAAGiD,KAAK,CAACjD,MAAM;IAEhD,IAAIkD,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CF,MAAM,CAACnD,KAAK,GAAGA,KAAK;IACpBmD,MAAM,CAAClD,MAAM,GAAGA,MAAM;IAEtB,IAAIqD,OAAO,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;IACrCD,OAAO,CAACE,SAAS,CAACN,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IAE9B,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACG,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACjC,MAAM,GAAGA,MAAM;EACtB;EAEAoC,SAAS,CAACC,GAAG,EAAEC,KAAK,EAAEC,EAAE,EAAEC,EAAE,EAAEC,WAAW,EAAEC,YAAY,EAAC;IACtD,MAAM;MAAEhC,CAAC;MAAEC,CAAC;MAAEhC,KAAK;MAAEC;IAAO,CAAC,GAAG,IAAI,CAACoB,MAAM,CAACsC,KAAK,CAAC;IAElDC,EAAE,IAAI,CAAC;IACPC,EAAE,IAAI,CAAC;IACPC,WAAW,IAAI9D,KAAK;IACpB+D,YAAY,IAAI9D,MAAM;IAEtByD,GAAG,CAACF,SAAS,CAAC,IAAI,CAACL,MAAM,EAAEpB,CAAC,EAAEC,CAAC,EAAEhC,KAAK,EAAEC,MAAM,EAAE2D,EAAE,EAAEC,EAAE,EAAEC,WAAW,EAAEC,YAAY,CAAC;EACpF;AACJ;AAEAhD,MAAM,CAACC,wBAAwB,GAAG,CAAChB,KAAK,EAAEC,MAAM,EAAE+D,KAAK,KAAK;EACxD,IAAI3C,MAAM,GAAG,EAAE;EAEf,KAAK,IAAI4C,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGD,KAAK,EAAEC,GAAG,IAAI,CAAC,EAAE;IACvC,IAAIN,KAAK,GAAG;MAAE5B,CAAC,EAAG/B,KAAK,GAAGiE,GAAI;MAAEjC,CAAC,EAAE,CAAC;MAAEhC,KAAK,EAAEA,KAAK;MAAEC,MAAM,EAAEA;IAAO,CAAC;IACpEoB,MAAM,CAACmB,IAAI,CAACmB,KAAK,CAAC;EACpB;EAEA,OAAOtC,MAAM;AACjB,CAAC;AAKA,SAASK,UAAU,CAACiB,GAAG,EAAEuB,GAAG,EAAE;EAC3B,OAAOxB,IAAI,CAACyB,MAAM,EAAE,IAAID,GAAG,GAAGvB,GAAG,CAAC,GAAGA,GAAG;AAC1C;AAEC,SAASpB,YAAY,CAACoB,GAAG,EAAEuB,GAAG,EAAE;EAC/B,OAAOxB,IAAI,CAAC0B,KAAK,CAAC1B,IAAI,CAACyB,MAAM,EAAE,IAAID,GAAG,GAAGvB,GAAG,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG;AAC1D;AAEC,SAAS0B,KAAK,GAAG;EAChB,OAAO,GAAG,GAAC3B,IAAI,CAAC0B,KAAK,CAAC1B,IAAI,CAACyB,MAAM,EAAE,GAAC,QAAQ,CAAC,CAACG,QAAQ,CAAC,EAAE,CAAC;AAC5D;AAAC;AAAA"},"metadata":{},"sourceType":"module"}